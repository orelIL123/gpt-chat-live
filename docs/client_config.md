# הגדרת מייל לידים לכל לקוח בפיירבייס

מסמך זה מסביר כיצד להגדיר כתובת מייל ייעודית לשליחת לידים עבור כל לקוח במערכת הצ'אטבוט.

המערכת מוגדרת לשלוח הודעות לידים לכתובת מייל ספציפית המוגדרת עבור כל לקוח בנפרד במסד הנתונים של פיירבייס (Firestore).

**שלבים להגדרת מייל הלידים:**

1.  פתח את מסוף פיירבייס (Firebase Console).
2.  נווט אל Firestore Database.
3.  בחר באוסף (Collection) בשם `brains`.
4.  אתר את המסמך (Document) המתאים ללקוח שעבורו ברצונך להגדיר את המייל. שם המסמך הוא ה-`clientId` של הלקוח.
5.  ודא שהמסמך קיים. אם לא, ייתכן שתצטרך ליצור אותו או לוודא שהלקוח הוגדר כראוי במערכת.
6.  בתוך מסמך הלקוח, הוסף או עדכן שדה (Field) בשם `leadTargetEmail`.
7.  הגדר את הערך (Value) של השדה `leadTargetEmail` לכתובת המייל שאליה תרצה שהלידים עבור לקוח זה יישלחו.

**דוגמה למבנה מסמך לקוח באוסף `brains`:**

```json
{
  "system_prompt": "אתה עוזר וירטואלי...",
  "history": [
    // היסטוריית שיחה
  ],
  "leadTargetEmail": "email_client_1@example.com",
  // ... שדות נוספים של הלקוח
}
```

**הערות חשובות:**

*   ודא שכתובת המייל שהוזנה תקינה ופעילה.
*   אם השדה `leadTargetEmail` אינו קיים במסמך הלקוח, המערכת לא תוכל לשלוח את מייל הליד עבור לקוח זה.
*   השינוי בפיירבייס מתעדכן באופן מיידי והמערכת תשתמש בכתובת המייל החדשה החל מהליד הבא שיתקבל עבור לקוח זה.

תיעוד זה מסביר את החלק הראשון בתוכנית שלנו לסידור ושיפור הפרויקט.